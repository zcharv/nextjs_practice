(()=>{var e={};e.id=530,e.ids=[530],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},9541:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>ez,routeModule:()=>eF,serverHooks:()=>eM,workAsyncStorage:()=>e$,workUnitAsyncStorage:()=>eq});var n={};r.r(n),r.d(n,{GET:()=>ek});var a=r(5848),s=r(6557),i=r(3036);let o=require("bcrypt");var l=r.n(o);let u=require("os"),c=require("fs"),f=new Map,m=new Map,d=Symbol("OriginError"),p={};class h extends Promise{constructor(e,t,r,n,a={}){let s,i;super((e,t)=>{s=e,i=t}),this.tagged=Array.isArray(e.raw),this.strings=e,this.args=t,this.handler=r,this.canceller=n,this.options=a,this.state=null,this.statement=null,this.resolve=e=>(this.active=!1,s(e)),this.reject=e=>(this.active=!1,i(e)),this.active=!1,this.cancelled=null,this.executed=!1,this.signature="",this[d]=this.handler.debug?Error():this.tagged&&function(e){if(f.has(e))return f.get(e);let t=Error.stackTraceLimit;return Error.stackTraceLimit=4,f.set(e,Error()),Error.stackTraceLimit=t,f.get(e)}(this.strings)}get origin(){return(this.handler.debug?this[d].stack:this.tagged&&m.has(this.strings)?m.get(this.strings):m.set(this.strings,this[d].stack).get(this.strings))||""}static get[Symbol.species](){return Promise}cancel(){return this.canceller&&(this.canceller(this),this.canceller=null)}simple(){return this.options.simple=!0,this.options.prepare=!1,this}async readable(){return this.simple(),this.streaming=!0,this}async writable(){return this.simple(),this.streaming=!0,this}cursor(e=1,t){let r;return(this.options.simple=!1,"function"==typeof e&&(t=e,e=1),this.cursorRows=e,"function"==typeof t)?(this.cursorFn=t,this):{[Symbol.asyncIterator]:()=>({next:()=>{if(this.executed&&!this.active)return{done:!0};r&&r();let e=new Promise((e,t)=>{this.cursorFn=t=>(e({value:t,done:!1}),new Promise(e=>r=e)),this.resolve=()=>(this.active=!1,e({done:!0})),this.reject=e=>(this.active=!1,t(e))});return this.execute(),e},return:()=>(r&&r(p),{done:!0})})}}describe(){return this.options.simple=!1,this.onlyDescribe=this.options.prepare=!0,this}stream(){throw Error(".stream has been renamed to .forEach")}forEach(e){return this.forEachFn=e,this.handle(),this}raw(){return this.isRaw=!0,this}values(){return this.isRaw="values",this}async handle(){!this.executed&&(this.executed=!0)&&await 1&&this.handler(this)}execute(){return this.handle(),this}then(){return this.handle(),super.then.apply(this,arguments)}catch(){return this.handle(),super.catch.apply(this,arguments)}finally(){return this.handle(),super.finally.apply(this,arguments)}}class g extends Error{constructor(e){super(e.message),this.name=this.constructor.name,Object.assign(this,e)}}let y={connection:function e(t,r,n){let{host:a,port:s}=n||r,i=Object.assign(Error("write "+t+" "+(r.path||a+":"+s)),{code:t,errno:t,address:r.path||a},r.path?{}:{port:s});return Error.captureStackTrace(i,e),i},postgres:function e(t){let r=new g(t);return Error.captureStackTrace(r,e),r},generic:function e(t,r){let n=Object.assign(Error(t+": "+r),{code:t});return Error.captureStackTrace(n,e),n},notSupported:function e(t){let r=Object.assign(Error(t+" (B) is not supported"),{code:"MESSAGE_NOT_SUPPORTED",name:t});return Error.captureStackTrace(r,e),r}};class w{then(){B()}catch(){B()}finally(){B()}}class b extends w{constructor(e){super(),this.value=D(e)}}class v extends w{constructor(e,t,r){super(),this.value=e,this.type=t,this.array=r}}class E extends w{constructor(e,t){super(),this.first=e,this.rest=t}build(e,t,r,n){let a=R.map(([t,r])=>({fn:r,i:e.search(t)})).sort((e,t)=>e.i-t.i).pop();return -1===a.i?j(this.first,n):a.fn(this.first,this.rest,t,r,n)}}function _(e,t,r,n){let a=e instanceof v?e.value:e;if(void 0===a&&(e instanceof v?e.value=n.transform.undefined:a=e=n.transform.undefined,void 0===a))throw y.generic("UNDEFINED_VALUE","Undefined values are not allowed");return"$"+r.push(e instanceof v?(t.push(e.value),e.array?e.array[e.type||k(e.value)]||e.type||function e(t){return Array.isArray(t)?e(t[0]):"string"==typeof t?1009:0}(e.value):e.type):(t.push(e),k(e)))}let A=L({string:{to:25,from:null,serialize:e=>""+e},number:{to:0,from:[21,23,26,700,701],serialize:e=>""+e,parse:e=>+e},json:{to:114,from:[114,3802],serialize:e=>JSON.stringify(e),parse:e=>JSON.parse(e)},boolean:{to:16,from:16,serialize:e=>!0===e?"t":"f",parse:e=>"t"===e},date:{to:1184,from:[1082,1114,1184],serialize:e=>(e instanceof Date?e:new Date(e)).toISOString(),parse:e=>new Date(e)},bytea:{to:17,from:17,serialize:e=>"\\x"+Buffer.from(e).toString("hex"),parse:e=>Buffer.from(e.slice(2),"hex")}});function N(e,t,r,n,a,s){for(let i=1;i<e.strings.length;i++)t+=O(t,r,n,a,s)+e.strings[i],r=e.args[i];return t}function O(e,t,r,n,a){return t instanceof E?t.build(e,r,n,a):t instanceof h?T(t,r,n,a):t instanceof b?t.value:t&&t[0]instanceof h?t.reduce((e,t)=>e+" "+T(t,r,n,a),""):_(t,r,n,a)}function T(e,t,r,n){return e.fragment=!0,N(e,e.strings[0],e.args[0],t,r,n)}function S(e,t,r,n,a){return e.map(e=>"("+n.map(n=>O("values",e[n],t,r,a)).join(",")+")").join(",")}function I(e,t,r,n,a){let s=Array.isArray(e[0]),i=t.length?t.flat():Object.keys(s?e[0]:e);return S(s?e:[e],r,n,i,a)}function U(e,t,r,n,a){let s;return("string"==typeof e&&(e=[e].concat(t)),Array.isArray(e))?j(e,a):(t.length?t.flat():Object.keys(e)).map(t=>((s=e[t])instanceof h?T(s,r,n,a):s instanceof b?s.value:_(s,r,n,a))+" as "+D(a.transform.column.to?a.transform.column.to(t):t)).join(",")}let R=Object.entries({values:I,in:(...e)=>{let t=I(...e);return"()"===t?"(null)":t},select:U,as:U,returning:U,"\\(":U,update:(e,t,r,n,a)=>(t.length?t.flat():Object.keys(e)).map(t=>D(a.transform.column.to?a.transform.column.to(t):t)+"="+O("values",e[t],r,n,a)),insert(e,t,r,n,a){let s=t.length?t.flat():Object.keys(Array.isArray(e)?e[0]:e);return"("+j(s,a)+")values"+S(Array.isArray(e)?e:[e],r,n,s,a)}}).map(([e,t])=>[RegExp("((?:^|[\\s(])"+e+"(?:$|[\\s(]))(?![\\s\\S]*\\1)","i"),t]);function B(){throw y.generic("NOT_TAGGED_CALL","Query not called as a tagged template literal")}let C=A.serializers,P=A.parsers,x=function(e){let t=L(e||{});return{serializers:Object.assign({},C,t.serializers),parsers:Object.assign({},P,t.parsers)}};function L(e){return Object.keys(e).reduce((t,r)=>(e[r].from&&[].concat(e[r].from).forEach(n=>t.parsers[n]=e[r].parse),e[r].serialize&&(t.serializers[e[r].to]=e[r].serialize,e[r].from&&[].concat(e[r].from).forEach(n=>t.serializers[n]=e[r].serialize)),t),{parsers:{},serializers:{}})}function j(e,{transform:{column:t}}){return e.map(e=>D(t.to?t.to(e):e)).join(",")}let D=function(e){return'"'+e.replace(/"/g,'""').replace(/\./g,'"."')+'"'},k=function e(t){return t instanceof v?t.type:t instanceof Date?1184:t instanceof Uint8Array?17:!0===t||!1===t?16:"bigint"==typeof t?20:Array.isArray(t)?e(t[0]):0},F=/\\/g,$=/"/g,q=function e(t,r,n,a){if(!1===Array.isArray(t))return t;if(!t.length)return"{}";let s=t[0],i=1020===a?";":",";return Array.isArray(s)&&!s.type?"{"+t.map(t=>e(t,r,n,a)).join(i)+"}":"{"+t.map(e=>{if(void 0===e&&void 0===(e=n.transform.undefined))throw y.generic("UNDEFINED_VALUE","Undefined values are not allowed");return null===e?"null":'"'+(r?r(e.type?e.value:e):""+e).replace(F,"\\\\").replace($,'\\"')+'"'}).join(i)+"}"},M={i:0,char:null,str:"",quoted:!1,last:0},z=e=>{let t=e[0];for(let r=1;r<e.length;r++)t+="_"===e[r]?e[++r].toUpperCase():e[r];return t},G=e=>{let t=e[0].toUpperCase();for(let r=1;r<e.length;r++)t+="_"===e[r]?e[++r].toUpperCase():e[r];return t},H=e=>e.replace(/_/g,"-"),X=e=>e.replace(/([A-Z])/g,"_$1").toLowerCase(),V=e=>(e.slice(0,1)+e.slice(1).replace(/([A-Z])/g,"_$1")).toLowerCase(),Y=e=>e.replace(/-/g,"_");function K(e){return function t(r,n){return"object"==typeof r&&null!==r&&(114===n.type||3802===n.type)?Array.isArray(r)?r.map(e=>t(e,n)):Object.entries(r).reduce((r,[a,s])=>Object.assign(r,{[e(a)]:t(s,n)}),{}):r}}z.column={from:z},z.value={from:K(z)},X.column={to:X};let Q={...z};Q.column.to=X,G.column={from:G},G.value={from:K(G)},V.column={to:V};let J={...G};J.column.to=V,H.column={from:H},H.value={from:K(H)},Y.column={to:Y};let W={...H};W.column.to=Y;let Z=require("net"),ee=require("tls"),et=require("crypto"),er=require("stream"),en=require("perf_hooks");class ea extends Array{constructor(){super(),Object.defineProperties(this,{count:{value:null,writable:!0},state:{value:null,writable:!0},command:{value:null,writable:!0},columns:{value:null,writable:!0},statement:{value:null,writable:!0}})}static get[Symbol.species](){return Array}}let es=function(e=[]){let t=e.slice(),r=0;return{get length(){return t.length-r},remove:e=>{let r=t.indexOf(e);return -1===r?null:(t.splice(r,1),e)},push:e=>(t.push(e),e),shift:()=>{let e=t[r++];return r===t.length?(r=0,t=[]):t[r-1]=void 0,e}}},ei=Buffer.allocUnsafe(256),eo=Object.assign(function(){return eo.i=0,eo},"BCcDdEFfHPpQSX".split("").reduce((e,t)=>{let r=t.charCodeAt(0);return e[t]=()=>(ei[0]=r,eo.i=5,eo),e},{}),{N:"\0",i:0,inc:e=>(eo.i+=e,eo),str(e){let t=Buffer.byteLength(e);return el(t),eo.i+=ei.write(e,eo.i,t,"utf8"),eo},i16:e=>(el(2),ei.writeUInt16BE(e,eo.i),eo.i+=2,eo),i32:(e,t)=>(t||0===t?ei.writeUInt32BE(e,t):(el(4),ei.writeUInt32BE(e,eo.i),eo.i+=4),eo),z:e=>(el(e),ei.fill(0,eo.i,eo.i+e),eo.i+=e,eo),raw:e=>(ei=Buffer.concat([ei.subarray(0,eo.i),e]),eo.i=ei.length,eo),end(e=1){ei.writeUInt32BE(eo.i-e,e);let t=ei.subarray(0,eo.i);return eo.i=0,ei=Buffer.allocUnsafe(256),t}});function el(e){if(ei.length-eo.i<e){let t=ei,r=t.length;ei=Buffer.allocUnsafe(r+(r>>1)+e),t.copy(ei)}}let eu=function e(t,r={},{onopen:n=eg,onend:a=eg,onclose:s=eg}={}){let{ssl:i,max:o,user:l,host:u,port:c,database:f,parsers:m,transform:d,onnotice:g,onnotify:w,onparameter:b,max_pipeline:v,keep_alive:E,backoff:A,target_session_attrs:O}=t,T=es(),S=ec++,I={pid:null,secret:null},U=e_(eX,t.idle_timeout),R=e_(eX,t.max_lifetime),B=e_(function(){eG(y.connection("CONNECT_TIMEOUT",t,C)),C.destroy()},t.connect_timeout),C=null,P,x=new ea,L=Buffer.alloc(0),j=t.fetch_types,D={},k={},F=Math.random().toString(36).slice(2),$=1,z=0,G=0,H=0,X=0,V=0,Y=0,K=0,Q=null,J=null,W=!1,ei=null,el=null,eu=null,ew=null,eA=null,eN=null,eO=null,eT=null,eS=null,eI=null,eU={queue:r.closed,idleTimer:U,connect(e){eu=e||!0,eq()},terminate:eV,execute:eC,cancel:eB,end:eX,count:0,id:S};return r.closed&&r.closed.push(eU),eU;async function eR(){let e;try{e=t.socket?await Promise.resolve(t.socket(t)):new Z.Socket}catch(e){ez(e);return}return e.on("error",ez),e.on("close",eY),e.on("drain",ek),e}async function eB({pid:e,secret:t},r,n){try{P=eo().i32(16).i32(0x4d2162e).i32(e).i32(t).end(16),await e$(),C.once("error",n),C.once("close",r)}catch(e){n(e)}}function eC(e){if(W)return eH(e,y.connection("CONNECTION_DESTROYED",t));if(!e.cancelled)try{return e.state=I,eS?T.push(e):(eS=e).active=!0,function(e){let r=[],n=[],a=N(e,e.strings[0],e.args[0],r,n,t);e.tagged||e.args.forEach(e=>_(e,r,n,t)),e.prepare=t.prepare&&(!("prepare"in e.options)||e.options.prepare),e.string=a,e.signature=e.prepare&&n+a,e.onlyDescribe&&delete k[e.signature],e.parameters=e.parameters||r,e.prepared=e.prepare&&e.signature in k,e.describeFirst=e.onlyDescribe||r.length&&!e.prepared,e.statement=e.prepared?k[e.signature]:{string:a,types:n,name:e.prepare?F+$++:""},"function"==typeof t.debug&&t.debug(S,a,r,n)}(e),eL(function(e){if(e.parameters.length>=65534)throw y.generic("MAX_PARAMETERS_EXCEEDED","Max number of parameters (65534) exceeded");return e.options.simple?eo().Q().str(e.statement.string+eo.N).end():e.describeFirst?Buffer.concat([eP(e),em]):e.prepare?e.prepared?ex(e):Buffer.concat([eP(e),ex(e)]):Buffer.concat([e4(e.statement.string,e.parameters,e.statement.types),eh,ex(e)])}(e))&&!e.describeFirst&&!e.cursorFn&&T.length<v&&(!e.options.onexecute||e.options.onexecute(eU))}catch(e){return 0===T.length&&eL(ef),eG(e),!0}}function eP(e){return Buffer.concat([e4(e.statement.string,e.parameters,e.statement.types,e.statement.name),function(e,t=""){return eo().D().str("S").str(t+eo.N).end()}(0,e.statement.name)])}function ex(e){return Buffer.concat([function(e,r,n="",a=""){let s,i;return eo().B().str(a+eo.N).str(n+eo.N).i16(0).i16(e.length),e.forEach((n,a)=>{if(null===n)return eo.i32(0xffffffff);i=r[a],e[a]=n=i in t.serializers?t.serializers[i](n):""+n,s=eo.i,eo.inc(4).str(n).i32(eo.i-s-4,s)}),eo.i16(0),eo.end()}(e.parameters,e.statement.types,e.statement.name,e.cursorName),e.cursorFn?e5("",e.cursorRows):ep])}function eL(e,t){return(eN=eN?Buffer.concat([eN,e]):Buffer.from(e),t||eN.length>=1024)?ej(t):(null===J&&(J=setImmediate(ej)),!0)}function ej(e){let t=C.write(eN,e);return null!==J&&clearImmediate(J),eN=J=null,t}async function eD(){if(eL(ed),!await new Promise(e=>C.once("data",t=>e(83===t[0])))&&"prefer"===i)return eM();C.removeAllListeners(),(C=ee.connect({socket:C,servername:Z.isIP(C.host)?void 0:C.host,..."require"===i||"allow"===i||"prefer"===i?{rejectUnauthorized:!1}:"verify-full"===i?{}:"object"==typeof i?i:{}})).on("secureConnect",eM),C.on("error",ez),C.on("close",eY),C.on("drain",ek)}function ek(){eS||n(eU)}function eF(r){if(!ei||(ei.push(r),!((G-=r.length)>=0)))for(L=ei?Buffer.concat(ei,V-G):0===L.length?r:Buffer.concat([L,r],L.length+r.length);L.length>4;){if((V=L.readUInt32BE(1))>=L.length){G=V-L.length,ei=[L];break}try{(function(r,a=r[0]){(68===a?function(e){let t,r,n,a=7,s=eS.isRaw?Array(eS.statement.columns.length):{};for(let i=0;i<eS.statement.columns.length;i++)r=eS.statement.columns[i],t=e.readInt32BE(a),a+=4,n=-1===t?null:!0===eS.isRaw?e.subarray(a,a+=t):void 0===r.parser?e.toString("utf8",a,a+=t):!0===r.parser.array?r.parser(e.toString("utf8",a+1,a+=t)):r.parser(e.toString("utf8",a,a+=t)),eS.isRaw?s[i]=!0===eS.isRaw?n:d.value.from?d.value.from(n,r):n:s[r.name]=d.value.from?d.value.from(n,r):n;eS.forEachFn?eS.forEachFn(d.row.from?d.row.from(s):s,x):x[K++]=d.row.from?d.row.from(s):s}:100===a?function(e){eA&&(eA.push(e.subarray(5))||C.pause())}:65===a?function(e){if(!w)return;let t=9;for(;0!==e[t++];);w(e.toString("utf8",9,t-1),e.toString("utf8",t,e.length-1))}:83===a?function(e){let[r,n]=e.toString("utf8",5,e.length-1).split(eo.N);D[r]=n,t.parameters[r]!==n&&(t.parameters[r]=n,b&&b(r,n))}:90===a?function(r){if(eS&&eS.options.simple&&eS.resolve(el||x),eS=el=null,x=new ea,B.cancel(),eu){if(O){var a;if(!D.in_hot_standby||!D.default_transaction_read_only)return function(){let e=new h([`
      show transaction_read_only;
      select pg_catalog.pg_is_in_recovery()
    `],[],eC,null,{simple:!0});e.resolve=([[e],[t]])=>{D.default_transaction_read_only=e.transaction_read_only,D.in_hot_standby=t.pg_is_in_recovery?"on":"off"},e.execute()}();if(a=D,"read-write"===O&&"on"===a.default_transaction_read_only||"read-only"===O&&"off"===a.default_transaction_read_only||"primary"===O&&"on"===a.in_hot_standby||"standby"===O&&"off"===a.in_hot_standby||"prefer-standby"===O&&"off"===a.in_hot_standby&&t.host[X])return eV()}return j?(!0===eu&&(eu=null),e2()):(!0!==eu&&eC(eu),t.shared.retries=X=0,void(eu=null))}for(;T.length&&(eS=T.shift())&&(eS.active=!0,eS.cancelled);)e(t).cancel(eS.state,eS.cancelled.resolve,eS.cancelled.reject);eS||(eU.reserved?eU.reserved.release||73!==r[5]?eU.reserved():ew?eV():(eU.reserved=null,n(eU)):ew?eV():n(eU))}:67===a?function(e){K=0;for(let t=e.length-1;t>0;t--)if(32===e[t]&&e[t+1]<58&&null===x.count&&(x.count=+e.toString("utf8",t+1,e.length-1)),e[t-1]>=65){x.command=e.toString("utf8",5,t),x.state=I;break}return(eI&&(eI(),eI=null),"BEGIN"!==x.command||1===o||eU.reserved)?eS.options.simple?eK():void(eS.cursorFn&&(x.count&&eS.cursorFn(x),eL(ef)),eS.resolve(x)):eG(y.generic("UNSAFE_TRANSACTION","Only use sql.begin, sql.reserved or max: 1"))}:50===a?eK:49===a?function(){eS.parsing=!1}:116===a?function(e){let t=e.readUInt16BE(5);for(let r=0;r<t;++r)eS.statement.types[r]||(eS.statement.types[r]=e.readUInt32BE(7+4*r));eS.prepare&&(k[eS.signature]=eS.statement),eS.describeFirst&&!eS.onlyDescribe&&(eL(ex(eS)),eS.describeFirst=!1)}:84===a?function(e){let t;x.command&&((el=el||[x]).push(x=new ea),x.count=null,eS.statement.columns=null);let r=e.readUInt16BE(5),n=7;eS.statement.columns=Array(r);for(let a=0;a<r;++a){for(t=n;0!==e[n++];);let r=e.readUInt32BE(n),s=e.readUInt16BE(n+4),i=e.readUInt32BE(n+6);eS.statement.columns[a]={name:d.column.from?d.column.from(e.toString("utf8",t,n-1)):e.toString("utf8",t,n-1),parser:m[i],table:r,number:s,type:i},n+=18}if(x.statement=eS.statement,eS.onlyDescribe)return eS.resolve(eS.statement),eL(ef)}:82===a?eQ:110===a?function(){if(x.statement=eS.statement,x.statement.columns=[],eS.onlyDescribe)return eS.resolve(eS.statement),eL(ef)}:75===a?function(e){I.pid=e.readUInt32BE(5),I.secret=e.readUInt32BE(9)}:69===a?function(e){var t;eS&&(eS.cursorFn||eS.describeFirst)&&eL(ef);let r=y.postgres(eb(e));eS&&eS.retried?eG(eS.retried):eS&&eS.prepared&&ey.has(r.routine)?(t=eS,delete k[t.signature],t.retried=r,eC(t)):eG(r)}:115===a?e3:51===a?function(){x.count&&eS.cursorFn(x),eS.resolve(x)}:71===a?function(){eA=new er.Writable({autoDestroy:!0,write(e,t,r){C.write(eo().d().raw(e).end(),r)},destroy(e,t){t(e),C.write(eo().f().str(e+eo.N).end()),eA=null},final(e){C.write(eo().c().end()),eI=e}}),eS.resolve(eA)}:78===a?function(e){g?g(eb(e)):console.log(eb(e))}:72===a?function(){eA=new er.Readable({read(){C.resume()}}),eS.resolve(eA)}:99===a?function(){eA&&eA.push(null),eA=null}:73===a?function(){}:86===a?function(){eG(y.notSupported("FunctionCallResponse"))}:118===a?function(){eG(y.notSupported("NegotiateProtocolVersion"))}:87===a?function(){eA=new er.Duplex({autoDestroy:!0,read(){C.resume()},write(e,t,r){C.write(eo().d().raw(e).end(),r)},destroy(e,t){t(e),C.write(eo().f().str(e+eo.N).end()),eA=null},final(e){C.write(eo().c().end()),eI=e}}),eS.resolve(eA)}:function(e){console.error("Postgres.js : Unknown Message:",e[0])})(r)})(L.subarray(0,V+1))}catch(e){eS&&(eS.cursorFn||eS.describeFirst)&&eL(ef),eG(e)}L=L.subarray(V+1),G=0,ei=null}}async function e$(){if(W=!1,D={},C||(C=await eR()),C){if(B.start(),t.socket)return i?eD():eM();if(C.on("connect",i?eD:eM),t.path)return C.connect(t.path);C.ssl=i,C.connect(c[H],u[H]),C.host=u[H],C.port=c[H],H=(H+1)%c.length}}function eq(){setTimeout(e$,z?z+Y-en.performance.now():0)}function eM(){try{k={},j=t.fetch_types,F=Math.random().toString(36).slice(2),$=1,R.start(),C.on("data",eF),E&&C.setKeepAlive&&C.setKeepAlive(!0,1e3*E);let e=P||eo().inc(4).i16(3).z(2).str(Object.entries(Object.assign({user:l,database:f,client_encoding:"UTF8"},t.connection)).filter(([,e])=>e).map(([e,t])=>e+eo.N+t).join(eo.N)).z(2).end(0);eL(e)}catch(e){ez(e)}}function ez(e){if(eU.queue!==r.connecting||!t.host[X+1])for(eG(e);T.length;)eH(T.shift(),e)}function eG(e){eA&&(eA.destroy(e),eA=null),eS&&eH(eS,e),eu&&(eH(eu,e),eu=null)}function eH(e,r){"query"in r||"parameters"in r||Object.defineProperties(r,{stack:{value:r.stack+e.origin.replace(/.*\n/,"\n"),enumerable:t.debug},query:{value:e.string,enumerable:t.debug},parameters:{value:e.parameters,enumerable:t.debug},args:{value:e.args,enumerable:t.debug},types:{value:e.statement&&e.statement.types,enumerable:t.debug}}),e.reject(r)}function eX(){return ew||(eU.reserved||a(eU),eU.reserved||eu||eS||0!==T.length?ew=new Promise(e=>eO=e):(eV(),new Promise(e=>C&&"closed"!==C.readyState?C.once("close",e):e())))}function eV(){W=!0,(eA||eS||eu||T.length)&&ez(y.connection("CONNECTION_DESTROYED",t)),clearImmediate(J),C&&(C.removeListener("data",eF),C.removeListener("connect",eM),"open"===C.readyState&&C.end(eo().X().end())),eO&&(eO(),ew=eO=null)}async function eY(e){if(L=Buffer.alloc(0),G=0,ei=null,clearImmediate(J),C.removeListener("data",eF),C.removeListener("connect",eM),U.cancel(),R.cancel(),B.cancel(),C.removeAllListeners(),C=null,eu)return eq();!e&&(eS||T.length)&&ez(y.connection("CONNECTION_CLOSED",t,C)),z=en.performance.now(),e&&t.shared.retries++,Y=("function"==typeof A?A(t.shared.retries):A)*1e3,s(eU,y.connection("CONNECTION_CLOSED",t,C))}function eK(){x.statement||(x.statement=eS.statement),x.columns=eS.statement.columns}async function eQ(e,t=e.readUInt32BE(5)){(3===t?eJ:5===t?eW:10===t?eZ:11===t?e0:12===t?function(e){e.toString("utf8",9).split(eo.N,1)[0].slice(2)!==Q&&(eG(y.generic("SASL_SIGNATURE_MISMATCH","The server did not return the correct signature")),C.destroy())}:0!==t?function(e,t){console.error("Postgres.js : Unknown Auth:",t)}:eg)(e,t)}async function eJ(){let e=await e1();eL(eo().p().str(e).z(1).end())}async function eW(e){let t="md5"+await ev(Buffer.concat([Buffer.from(await ev(await e1()+l)),e.subarray(9)]));eL(eo().p().str(t).z(1).end())}async function eZ(){eT=(await et.randomBytes(18)).toString("base64"),eo().p().str("SCRAM-SHA-256"+eo.N);let e=eo.i;eL(eo.inc(4).str("n,,n=*,r="+eT).i32(eo.i-e-4,e).end())}async function e0(e){let t=e.toString("utf8",9).split(",").reduce((e,t)=>(e[t[0]]=t.slice(2),e),{}),r=await et.pbkdf2Sync(await e1(),Buffer.from(t.s,"base64"),parseInt(t.i),32,"sha256"),n=await eE(r,"Client Key"),a="n=*,r="+eT+",r="+t.r+",s="+t.s+",i="+t.i+",c=biws,r="+t.r;Q=(await eE(await eE(r,"Server Key"),a)).toString("base64");let s="c=biws,r="+t.r+",p="+(function(e,t){let r=Math.max(e.length,t.length),n=Buffer.allocUnsafe(r);for(let a=0;a<r;a++)n[a]=e[a]^t[a];return n})(n,Buffer.from(await eE(await et.createHash("sha256").update(n).digest(),a))).toString("base64");eL(eo().p().str(s).end())}function e1(){return Promise.resolve("function"==typeof t.pass?t.pass():t.pass)}async function e2(){j=!1,(await new h([`
      select b.oid, b.typarray
      from pg_catalog.pg_type a
      left join pg_catalog.pg_type b on b.oid = a.typelem
      where a.typcategory = 'A'
      group by b.oid, b.typarray
      order by b.oid
    `],[],eC)).forEach(({oid:e,typarray:r})=>(function(e,r){if(t.parsers[r]&&t.serializers[r])return;let n=t.parsers[e];t.shared.typeArrayMap[e]=r,t.parsers[r]=e=>(M.i=M.last=0,function e(t,r,n,a){let s=[],i=1020===a?";":",";for(;t.i<r.length;t.i++){if(t.char=r[t.i],t.quoted)"\\"===t.char?t.str+=r[++t.i]:'"'===t.char?(s.push(n?n(t.str):t.str),t.str="",t.quoted='"'===r[t.i+1],t.last=t.i+2):t.str+=t.char;else if('"'===t.char)t.quoted=!0;else if("{"===t.char)t.last=++t.i,s.push(e(t,r,n,a));else if("}"===t.char){t.quoted=!1,t.last<t.i&&s.push(n?n(r.slice(t.last,t.i)):r.slice(t.last,t.i)),t.last=t.i+1;break}else t.char===i&&"}"!==t.p&&'"'!==t.p&&(s.push(n?n(r.slice(t.last,t.i)):r.slice(t.last,t.i)),t.last=t.i+1);t.p=t.char}return t.last<t.i&&s.push(n?n(r.slice(t.last,t.i+1)):r.slice(t.last,t.i+1)),s}(M,e,n,r)),t.parsers[r].array=!0,t.serializers[r]=n=>q(n,t.serializers[e],t,r)})(e,r))}async function e3(){try{let e=await Promise.resolve(eS.cursorFn(x));K=0,e===p?eL(function(e=""){return Buffer.concat([eo().C().str("P").str(e+eo.N).end(),eo().S().end()])}(eS.portal)):(x=new ea,eL(e5("",eS.cursorRows)))}catch(e){eL(ef),eS.reject(e)}}function e4(e,t,r,n=""){return eo().P().str(n+eo.N).str(e+eo.N).i16(t.length),t.forEach((e,t)=>eo.i32(r[t]||0)),eo.end()}function e5(e="",t=0){return Buffer.concat([eo().E().str(e+eo.N).i32(t).end(),em])}},ec=1,ef=eo().S().end(),em=eo().H().end(),ed=eo().i32(8).i32(0x4d2162f).end(8),ep=Buffer.concat([eo().E().str(eo.N).i32(0).end(),ef]),eh=eo().D().str("S").str(eo.N).end(),eg=()=>{},ey=new Set(["FetchPreparedStatement","RevalidateCachedQuery","transformAssignedExpr"]),ew={83:"severity_local",86:"severity",67:"code",77:"message",68:"detail",72:"hint",80:"position",112:"internal_position",113:"internal_query",87:"where",115:"schema_name",116:"table_name",99:"column_name",100:"data type_name",110:"constraint_name",70:"file",76:"line",82:"routine"};function eb(e){let t={},r=5;for(let n=5;n<e.length-1;n++)0===e[n]&&(t[ew[e[r]]]=e.toString("utf8",r+1,n),r=n+1);return t}function ev(e){return et.createHash("md5").update(e).digest("hex")}function eE(e,t){return et.createHmac("sha256",e).update(t).digest()}function e_(e,t){let r;if(!(t="function"==typeof t?t():t))return{cancel:eg,start:eg};return{cancel(){r&&(clearTimeout(r),r=null)},start(){r&&clearTimeout(r),r=setTimeout(n,1e3*t,arguments)}};function n(t){e.apply(null,t),r=null}}let eA=()=>{};function eN(e,t,r,n){let a,s,i;let o=n.raw?Array(t.length):{};for(let l=0;l<t.length;l++)a=e[r++],s=t[l],i=110===a?null:117===a?void 0:void 0===s.parser?e.toString("utf8",r+4,r+=4+e.readUInt32BE(r)):!0===s.parser.array?s.parser(e.toString("utf8",r+5,r+=4+e.readUInt32BE(r))):s.parser(e.toString("utf8",r+4,r+=4+e.readUInt32BE(r))),n.raw?o[l]=!0===n.raw?i:n.value.from?n.value.from(i,s):i:o[s.name]=n.value.from?n.value.from(i,s):i;return{i:r,row:n.row.from?n.row.from(o):o}}function eO(e,t,r=393216){return new Promise(async(n,a)=>{await e.begin(async e=>{let a;t||([{oid:t}]=await e`select lo_creat(-1) as oid`);let[{fd:s}]=await e`select lo_open(${t}, ${r}) as fd`,i={writable:l,readable:o,close:()=>e`select lo_close(${s})`.then(a),tell:()=>e`select lo_tell64(${s})`,read:t=>e`select loread(${s}, ${t}) as data`,write:t=>e`select lowrite(${s}, ${t})`,truncate:t=>e`select lo_truncate64(${s}, ${t})`,seek:(t,r=0)=>e`select lo_lseek64(${s}, ${t}, ${r})`,size:()=>e`
          select
            lo_lseek64(${s}, location, 0) as position,
            seek.size
          from (
            select
              lo_lseek64($1, 0, 2) as size,
              tell.location
            from (select lo_tell64($1) as location) tell
          ) seek
        `};return n(i),new Promise(async e=>a=e);async function o({highWaterMark:e=16384,start:t=0,end:r=1/0}={}){let n=r-t;return t&&await i.seek(t),new er.Readable({highWaterMark:e,async read(e){let t=e>n?e-n:e;n-=e;let[{data:r}]=await i.read(t);this.push(r),r.length<e&&this.push(null)}})}async function l({highWaterMark:e=16384,start:t=0}={}){return t&&await i.seek(t),new er.Writable({highWaterMark:e,write(e,t,r){i.write(e).then(()=>r(),r)}})}}).catch(a)})}function eT(e,t){let r=function(e,t){var r;if(e&&e.shared)return e;let n=process.env,a=(e&&"string"!=typeof e?e:t)||{},{url:s,multihost:i}=function(e){if(!e||"string"!=typeof e)return{url:{searchParams:new Map}};let t=e;t=decodeURIComponent((t=t.slice(t.indexOf("://")+3).split(/[?/]/)[0]).slice(t.indexOf("@")+1));let r=new URL(e.replace(t,t.split(",")[0]));return{url:{username:decodeURIComponent(r.username),password:decodeURIComponent(r.password),host:r.host,hostname:r.hostname,port:r.port,pathname:r.pathname,searchParams:r.searchParams},multihost:t.indexOf(",")>-1&&t}}(e),o=[...s.searchParams].reduce((e,[t,r])=>(e[t]=r,e),{}),l=a.hostname||a.host||i||s.hostname||n.PGHOST||"localhost",c=a.port||s.port||n.PGPORT||5432,f=a.user||a.username||s.username||n.PGUSERNAME||n.PGUSER||function(){try{return u.userInfo().username}catch(e){return process.env.USERNAME||process.env.USER||process.env.LOGNAME}}();a.no_prepare&&(a.prepare=!1),o.sslmode&&(o.ssl=o.sslmode,delete o.sslmode),"timeout"in a&&(console.log("The timeout option is deprecated, use idle_timeout instead"),a.idle_timeout=a.timeout),"system"===o.sslrootcert&&(o.ssl="verify-full");let m=["idle_timeout","connect_timeout","max_lifetime","max_pipeline","backoff","keep_alive"],d={max:10,ssl:!1,idle_timeout:null,connect_timeout:30,max_lifetime:eI,max_pipeline:100,backoff:eS,keep_alive:60,prepare:!0,debug:!1,fetch_types:!0,publications:"alltables",target_session_attrs:null};return{host:Array.isArray(l)?l:l.split(",").map(e=>e.split(":")[0]),port:Array.isArray(c)?c:l.split(",").map(e=>parseInt(e.split(":")[1]||c)),path:a.path||l.indexOf("/")>-1&&l+"/.s.PGSQL."+c,database:a.database||a.db||(s.pathname||"").slice(1)||n.PGDATABASE||f,user:f,pass:a.pass||a.password||s.password||n.PGPASSWORD||"",...Object.entries(d).reduce((e,[t,r])=>{let s=t in a?a[t]:t in o?"disable"!==o[t]&&"false"!==o[t]&&o[t]:n["PG"+t.toUpperCase()]||r;return e[t]="string"==typeof s&&m.includes(t)?+s:s,e},{}),connection:{application_name:"postgres.js",...a.connection,...Object.entries(o).reduce((e,[t,r])=>(t in d||(e[t]=r),e),{})},types:a.types||{},target_session_attrs:function(e,t,r){let n=e.target_session_attrs||t.searchParams.get("target_session_attrs")||r.PGTARGETSESSIONATTRS;if(!n||["read-write","read-only","primary","standby","prefer-standby"].includes(n))return n;throw Error("target_session_attrs "+n+" is not supported")}(a,s,n),onnotice:a.onnotice,onnotify:a.onnotify,onclose:a.onclose,onparameter:a.onparameter,socket:a.socket,transform:{undefined:(r=a.transform||{undefined:void 0}).undefined,column:{from:"function"==typeof r.column?r.column:r.column&&r.column.from,to:r.column&&r.column.to},value:{from:"function"==typeof r.value?r.value:r.value&&r.value.from,to:r.value&&r.value.to},row:{from:"function"==typeof r.row?r.row:r.row&&r.row.from,to:r.row&&r.row.to}},parameters:{},shared:{retries:0,typeArrayMap:{}},...x(a.types)}}(e,t),n=r.no_subscribe||function(e,t){let r=new Map,n="postgresjs_"+Math.random().toString(36).slice(2),a={},s,i,o=!1,l=f.sql=e({...t,transform:{column:{},value:{},row:{}},max:1,fetch_types:!1,idle_timeout:null,max_lifetime:null,connection:{...t.connection,replication:"database"},onclose:async function(){o||(i=null,a.pid=a.secret=void 0,m(await d(l,n,t.publications)),r.forEach(e=>e.forEach(({onsubscribe:e})=>e())))},no_subscribe:!0}),u=l.end,c=l.close;return l.end=async()=>(o=!0,i&&await new Promise(e=>(i.once("close",e),i.end())),u()),l.close=async()=>(i&&await new Promise(e=>(i.once("close",e),i.end())),c()),f;async function f(e,o,u=eA,c=eA){e=function(e){let t=e.match(/^(\*|insert|update|delete)?:?([^.]+?\.?[^=]+)?=?(.+)?/i)||[];if(!t)throw Error("Malformed subscribe pattern: "+e);let[,r,n,a]=t;return(r||"*")+(n?":"+(-1===n.indexOf(".")?"public."+n:n):"")+(a?"="+a:"")}(e),s||(s=d(l,n,t.publications));let p={fn:o,onsubscribe:u},h=r.has(e)?r.get(e).add(p):r.set(e,new Set([p])).get(e),g=()=>{h.delete(p),0===h.size&&r.delete(e)};return s.then(e=>(m(e),u(),i&&i.on("error",c),{unsubscribe:g,state:a,sql:l}))}function m(e){i=e.stream,a.pid=e.state.pid,a.secret=e.state.secret}async function d(e,r,n){if(!n)throw Error("Missing publication names");let a=await e.unsafe(`CREATE_REPLICATION_SLOT ${r} TEMPORARY LOGICAL pgoutput NOEXPORT_SNAPSHOT`),[s]=a,i=await e.unsafe(`START_REPLICATION SLOT ${r} LOGICAL ${s.consistent_point} (proto_version '1', publication_names '${n}')`).writable(),o={lsn:Buffer.concat(s.consistent_point.split("/").map(e=>Buffer.from(("00000000"+e).slice(-8),"hex")))};return i.on("data",function(r){119===r[0]?function(e,t,r,n,a){Object.entries({R:e=>{let n=1,s=t[e.readUInt32BE(n)]={schema:e.toString("utf8",n+=4,n=e.indexOf(0,n))||"pg_catalog",table:e.toString("utf8",n+1,n=e.indexOf(0,n+1)),columns:Array(e.readUInt16BE(n+=2)),keys:[]};n+=2;let i=0,o;for(;n<e.length;)(o=s.columns[i++]={key:e[n++],name:a.column.from?a.column.from(e.toString("utf8",n,n=e.indexOf(0,n))):e.toString("utf8",n,n=e.indexOf(0,n)),type:e.readUInt32BE(n+=1),parser:r[e.readUInt32BE(n)],atttypmod:e.readUInt32BE(n+=4)}).key&&s.keys.push(o),n+=4},Y:()=>{},O:()=>{},B:e=>{var r;t.date=(r=e.readBigInt64BE(9),new Date(Date.UTC(2e3,0,1)+Number(r/BigInt(1e3)))),t.lsn=e.subarray(1,9)},I:e=>{let r=1,s=t[e.readUInt32BE(r)],{row:i}=eN(e,s.columns,r+=7,a);n(i,{command:"insert",relation:s})},D:e=>{let r=1,s=t[e.readUInt32BE(r)],i=75===e[r+=4];n(i||79===e[r]?eN(e,s.columns,r+=3,a).row:null,{command:"delete",relation:s,key:i})},U:e=>{let r=1,s=t[e.readUInt32BE(r)],i=75===e[r+=4],o=i||79===e[r]?eN(e,s.columns,r+=3,a):null;o&&(r=o.i);let{row:l}=eN(e,s.columns,r+3,a);n(l,{command:"update",relation:s,key:i,old:o&&o.row})},T:()=>{},C:()=>{}}).reduce((e,[t,r])=>(e[t.charCodeAt(0)]=r,e),{})[e[0]](e)}(r.subarray(25),o,e.options.parsers,l,t.transform):107===r[0]&&r[17]&&(o.lsn=r.subarray(1,9),function(){let e=Buffer.alloc(34);e[0]=114,e.fill(o.lsn,1),e.writeBigInt64BE(BigInt(Date.now()-Date.UTC(2e3,0,1))*BigInt(1e3),25),i.write(e)}())}),i.on("error",function(e){console.error("Unexpected error during logical streaming - reconnecting",e)}),i.on("close",e.close),{stream:i,state:a.state};function l(e,t){let r=t.relation.schema+"."+t.relation.table;p("*",e,t),p("*:"+r,e,t),t.relation.keys.length&&p("*:"+r+"="+t.relation.keys.map(t=>e[t.name]),e,t),p(t.command,e,t),p(t.command+":"+r,e,t),t.relation.keys.length&&p(t.command+":"+r+"="+t.relation.keys.map(t=>e[t.name]),e,t)}}function p(e,t,n){r.has(e)&&r.get(e).forEach(({fn:r})=>r(t,n,e))}}(eT,{...r}),a=!1,s=es(),i=es(),o=es(),l=es(),f=es(),m=es(),d=es(),w=es(),_={connecting:i,reserved:o,closed:l,ended:f,open:m,busy:d,full:w},A=[...Array(r.max)].map(()=>eu(r,_,{onopen:q,onend:$,onclose:M})),N=O(function(e){return a?e.reject(y.connection("CONNECTION_ENDED",r,r)):m.length?C(m.shift(),e):l.length?F(l.shift(),e):void(d.length?C(d.shift(),e):s.push(e))});return Object.assign(N,{get parameters(){return r.parameters},largeObject:eO.bind(null,N),subscribe:n,CLOSE:p,END:p,PostgresError:g,options:r,reserve:I,listen:T,begin:U,close:j,end:L}),N;function O(e){return e.debug=r.debug,Object.entries(r.types).reduce((e,[t,r])=>(e[t]=e=>new v(e,r.to),e),t),Object.assign(n,{types:t,typed:t,unsafe:function(t,r=[],n={}){return 2!=arguments.length||Array.isArray(r)||(n=r,r=[]),new h([t],r,e,P,{prepare:!1,...n,simple:"simple"in n?n.simple:0===r.length})},notify:S,array:function e(t,n){return Array.isArray(t)?new v(t,n||(t.length?k(t)||25:0),r.shared.typeArrayMap):e(Array.from(arguments))},json:B,file:function(t,r=[],n={}){return 2!=arguments.length||Array.isArray(r)||(n=r,r=[]),new h([],r,r=>{c.readFile(t,"utf8",(t,n)=>{if(t)return r.reject(t);r.strings=[n],e(r)})},P,{...n,simple:"simple"in n?n.simple:0===r.length})}}),n;function t(e,t){return new v(e,t)}function n(t,...a){return t&&Array.isArray(t.raw)?new h(t,a,e,P):"string"!=typeof t||a.length?new E(t,a):new b(r.transform.column.to?r.transform.column.to(t):t)}}async function T(e,t,n){let a={fn:t,onlisten:n},s=T.sql||(T.sql=eT({...r,max:1,idle_timeout:null,max_lifetime:null,fetch_types:!1,onclose(){Object.entries(T.channels).forEach(([e,{listeners:t}])=>{delete T.channels[e],Promise.all(t.map(t=>T(e,t.fn,t.onlisten).catch(()=>{})))})},onnotify(e,t){e in T.channels&&T.channels[e].listeners.forEach(e=>e.fn(t))}})),i=T.channels||(T.channels={});if(e in i){i[e].listeners.push(a);let t=await i[e].result;return a.onlisten&&a.onlisten(),{state:t.state,unlisten:l}}i[e]={result:s`listen ${s.unsafe('"'+e.replace(/"/g,'""')+'"')}`,listeners:[a]};let o=await i[e].result;return a.onlisten&&a.onlisten(),{state:o.state,unlisten:l};async function l(){if(e in i!=!1&&(i[e].listeners=i[e].listeners.filter(e=>e!==a),!i[e].listeners.length))return delete i[e],s`unlisten ${s.unsafe('"'+e.replace(/"/g,'""')+'"')}`}}async function S(e,t){return await N`select pg_notify(${e}, ${""+t})`}async function I(){let e=es(),t=m.length?m.shift():await new Promise(e=>{s.push({reserve:e}),l.length&&F(l.shift())});R(t,o),t.reserved=()=>e.length?t.execute(e.shift()):R(t,o),t.reserved.release=!0;let r=O(function(r){t.queue===w?e.push(r):t.execute(r)||R(t,w)});return r.release=()=>{t.reserved=null,q(t)},r}async function U(e,t){t||(t=e,e="");let r=es(),n=0,a,s=null;try{return await N.unsafe("begin "+e.replace(/[^a-z ]/ig,""),[],{onexecute:function(e){a=e,R(e,o),e.reserved=()=>r.length?e.execute(r.shift()):R(e,o)}}).execute(),await Promise.race([i(a,t),new Promise((e,t)=>a.onclose=t)])}catch(e){throw e}async function i(e,t,a){let o,l;let u=O(function(t){t.catch(e=>o||(o=e)),e.queue===w?r.push(t):e.execute(t)||R(e,w)});u.savepoint=function t(r,a){return r&&Array.isArray(r.raw)?t(e=>e.apply(e,arguments)):(1==arguments.length&&(a=r,r=null),i(e,a,"s"+n+++(r?"_"+r:"")))},u.prepare=e=>s=e.replace(/[^a-z0-9$-_. ]/gi),a&&await u`savepoint ${u(a)}`;try{if(l=await new Promise((e,r)=>{let n=t(u);Promise.resolve(Array.isArray(n)?Promise.all(n):n).then(e,r)}),o)throw o}catch(e){throw await (a?u`rollback to ${u(a)}`:u`rollback`),e instanceof g&&"25P02"===e.code&&o||e}return a||(s?await u`prepare transaction '${u.unsafe(s)}'`:await u`commit`),l}}function R(e,t){return e.queue.remove(e),t.push(e),e.queue=t,t===m?e.idleTimer.start():e.idleTimer.cancel(),e}function B(e){return new v(e,3802)}function C(e,t){return e.execute(t)?R(e,d):R(e,w)}function P(e){return new Promise((t,n)=>{e.state?e.active?eu(r).cancel(e.state,t,n):e.cancelled={resolve:t,reject:n}:(s.remove(e),e.cancelled=!0,e.reject(y.generic("57014","canceling statement due to user request")),t())})}async function L({timeout:e=null}={}){let t;return a||(await 1,a=Promise.race([new Promise(r=>null!==e&&(t=setTimeout(D,1e3*e,r))),Promise.all(A.map(e=>e.end()).concat(T.sql?T.sql.end({timeout:0}):[],n.sql?n.sql.end({timeout:0}):[]))]).then(()=>clearTimeout(t)))}async function j(){await Promise.all(A.map(e=>e.end()))}async function D(e){for(await Promise.all(A.map(e=>e.terminate()));s.length;)s.shift().reject(y.connection("CONNECTION_DESTROYED",r));e()}function F(e,t){return R(e,i),e.connect(t),e}function $(e){R(e,f)}function q(e){if(0===s.length)return R(e,m);let t=Math.ceil(s.length/(i.length+1)),r=!0;for(;r&&s.length&&t-- >0;){let t=s.shift();if(t.reserve)return t.reserve(e);r=e.execute(t)}r?R(e,d):R(e,w)}function M(e,t){R(e,l),e.reserved=null,e.onclose&&(e.onclose(t),e.onclose=null),r.onclose&&r.onclose(e.id),s.length&&F(e,s.shift())}}function eS(e){return(.5+Math.random()/2)*Math.min(3**e/100,20)}function eI(){return 60*(30+30*Math.random())}Object.assign(eT,{PostgresError:g,toPascal:G,pascal:J,toCamel:z,camel:Q,toKebab:H,kebab:W,fromPascal:V,fromCamel:X,fromKebab:Y,BigInt:{to:20,from:[20],parse:e=>BigInt(e),serialize:e=>e.toString()}});let eU=[{id:"410544b2-4001-4271-9855-fec4b6a6442a",name:"User",email:"user@nextmail.com",password:"123456"}],eR=[{id:"d6e15727-9fe1-4961-8c5b-ea44a9bd81aa",name:"Evil Rabbit",email:"evil@rabbit.com",image_url:"/customers/evil-rabbit.png"},{id:"3958dc9e-712f-4377-85e9-fec4b6a6442a",name:"Delba de Oliveira",email:"delba@oliveira.com",image_url:"/customers/delba-de-oliveira.png"},{id:"3958dc9e-742f-4377-85e9-fec4b6a6442a",name:"Lee Robinson",email:"lee@robinson.com",image_url:"/customers/lee-robinson.png"},{id:"76d65c26-f784-44a2-ac19-586678f7c2f2",name:"Michael Novotny",email:"michael@novotny.com",image_url:"/customers/michael-novotny.png"},{id:"CC27C14A-0ACF-4F4A-A6C9-D45682C144B9",name:"Amy Burns",email:"amy@burns.com",image_url:"/customers/amy-burns.png"},{id:"13D07535-C59E-4157-A011-F8D2EF4E0CBB",name:"Balazs Orban",email:"balazs@orban.com",image_url:"/customers/balazs-orban.png"}],eB=[{customer_id:eR[0].id,amount:15795,status:"pending",date:"2022-12-06"},{customer_id:eR[1].id,amount:20348,status:"pending",date:"2022-11-14"},{customer_id:eR[4].id,amount:3040,status:"paid",date:"2022-10-29"},{customer_id:eR[3].id,amount:44800,status:"paid",date:"2023-09-10"},{customer_id:eR[5].id,amount:34577,status:"pending",date:"2023-08-05"},{customer_id:eR[2].id,amount:54246,status:"pending",date:"2023-07-16"},{customer_id:eR[0].id,amount:666,status:"pending",date:"2023-06-27"},{customer_id:eR[3].id,amount:32545,status:"paid",date:"2023-06-09"},{customer_id:eR[4].id,amount:1250,status:"paid",date:"2023-06-17"},{customer_id:eR[5].id,amount:8546,status:"paid",date:"2023-06-07"},{customer_id:eR[1].id,amount:500,status:"paid",date:"2023-08-19"},{customer_id:eR[5].id,amount:8945,status:"paid",date:"2023-06-03"},{customer_id:eR[2].id,amount:1e3,status:"paid",date:"2022-06-05"}],eC=[{month:"Jan",revenue:2e3},{month:"Feb",revenue:1800},{month:"Mar",revenue:2200},{month:"Apr",revenue:2500},{month:"May",revenue:2300},{month:"Jun",revenue:3200},{month:"Jul",revenue:3500},{month:"Aug",revenue:3700},{month:"Sep",revenue:2500},{month:"Oct",revenue:2800},{month:"Nov",revenue:3e3},{month:"Dec",revenue:4800}],eP=eT(process.env.POSTGRES_URL,{ssl:"require"});async function ex(){return await eP`CREATE EXTENSION IF NOT EXISTS "uuid-ossp"`,await eP`
    CREATE TABLE IF NOT EXISTS users (
      id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,
      name VARCHAR(255) NOT NULL,
      email TEXT NOT NULL UNIQUE,
      password TEXT NOT NULL
    );
  `,await Promise.all(eU.map(async e=>{let t=await l().hash(e.password,10);return eP`
        INSERT INTO users (id, name, email, password)
        VALUES (${e.id}, ${e.name}, ${e.email}, ${t})
        ON CONFLICT (id) DO NOTHING;
      `}))}async function eL(){return await eP`CREATE EXTENSION IF NOT EXISTS "uuid-ossp"`,await eP`
    CREATE TABLE IF NOT EXISTS invoices (
      id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,
      customer_id UUID NOT NULL,
      amount INT NOT NULL,
      status VARCHAR(255) NOT NULL,
      date DATE NOT NULL
    );
  `,await Promise.all(eB.map(e=>eP`
        INSERT INTO invoices (customer_id, amount, status, date)
        VALUES (${e.customer_id}, ${e.amount}, ${e.status}, ${e.date})
        ON CONFLICT (id) DO NOTHING;
      `))}async function ej(){return await eP`CREATE EXTENSION IF NOT EXISTS "uuid-ossp"`,await eP`
    CREATE TABLE IF NOT EXISTS customers (
      id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,
      name VARCHAR(255) NOT NULL,
      email VARCHAR(255) NOT NULL,
      image_url VARCHAR(255) NOT NULL
    );
  `,await Promise.all(eR.map(e=>eP`
        INSERT INTO customers (id, name, email, image_url)
        VALUES (${e.id}, ${e.name}, ${e.email}, ${e.image_url})
        ON CONFLICT (id) DO NOTHING;
      `))}async function eD(){return await eP`
    CREATE TABLE IF NOT EXISTS revenue (
      month VARCHAR(4) NOT NULL UNIQUE,
      revenue INT NOT NULL
    );
  `,await Promise.all(eC.map(e=>eP`
        INSERT INTO revenue (month, revenue)
        VALUES (${e.month}, ${e.revenue})
        ON CONFLICT (month) DO NOTHING;
      `))}async function ek(){try{return await eP.begin(e=>[ex(),ej(),eL(),eD()]),Response.json({message:"Database seeded successfully"})}catch(e){return Response.json({error:e},{status:500})}}let eF=new a.AppRouteRouteModule({definition:{kind:s.RouteKind.APP_ROUTE,page:"/seed/route",pathname:"/seed",filename:"route",bundlePath:"app/seed/route"},resolvedPagePath:"/Users/zach.harvey/scratchspace/nextjs-dashboard/app/seed/route.ts",nextConfigOutput:"",userland:n}),{workAsyncStorage:e$,workUnitAsyncStorage:eq,serverHooks:eM}=eF;function ez(){return(0,i.patchFetch)({workAsyncStorage:e$,workUnitAsyncStorage:eq})}},1019:()=>{},7811:()=>{},5848:(e,t,r)=>{"use strict";e.exports=r(4870)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[36],()=>r(9541));module.exports=n})();